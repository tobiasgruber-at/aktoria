<app-page-layout [loading]="!user">
  <ng-container *ngIf="user">
    <div class="d-flex justify-content-between align-items-center">
      <h1 class="display-1">Profil</h1>
      <div>
        <button (click)="openDeleteModal(deleteModal)" class="btn btn-danger">
          Konto Löschen
        </button>
        <ng-template #deleteModal let-modal>
          <app-modal
            (confirm)="deleteUser(modal)"
            (decline)="modal.dismiss()"
            [loading]="deleteLoading"
            [theme]="theme.danger"
            confirmBtnLabel="Löschen"
            title="Nutzer löschen"
          >
            <app-alert
              *ngIf="deleteError"
              [closeable]="false"
              class="mb-1"
              type="danger"
              >{{ this.deleteError }}</app-alert
            >
            Sicher, dass du dein Konto
            <strong class="text-primary">unwiderruflich löschen</strong>
            möchtest möchtest?
          </app-modal>
        </ng-template>
        <button
          *ngIf="authService.isVerified()"
          class="btn btn-primary ms-3"
          routerLink="/profile/change"
        >
          Ändern
        </button>
      </div>
    </div>

    <div class="mb-5 mt-4 d-flex gap-5">
      <div class="d-flex flex-column">
        <h3 class="text-truncate">Vorname</h3>
        <span class="text-secondary value text-truncate">{{
          user.firstName
        }}</span>
      </div>
      <div class="d-flex flex-column">
        <h3 class="text-truncate">Nachname</h3>
        <span class="text-secondary value text-truncate">{{
          user.lastName
        }}</span>
      </div>
      <div class="d-flex flex-column">
        <h3 class="text-truncate">E-Mail</h3>
        <span class="text-secondary value text-truncate">{{ user.email }}</span>
      </div>
    </div>
  </ng-container>
</app-page-layout>
