<app-controls>
  <app-controls-item
    (click)="toggleRecordingMode()"
    *ngIf="voiceRecordingService.isSupported()"
    [ngbTooltip]="
      this.isRecordingMode ? 'Aufzeichnungen abbrechen' : 'Text einsprechen'
    "
    [class.disabled]="endSessionLoading"
  >
    <bi
      *ngIf="isRecordingMode; else notRecording"
      class="smaller"
      name="mic-fill"
    ></bi>
    <ng-template #notRecording>
      <bi class="smaller" name="mic-mute-fill"></bi>
    </ng-template>
  </app-controls-item>
  <app-controls-item
    (click)="speakingPaused ? resumeSpeaking() : pauseSpeaking()"
    [ngbTooltip]="speakingPaused ? 'Abspielen' : 'Pause'"
    [class.disabled]="isSelectedRoleSpeaking"
  >
    <bi *ngIf="!speakingPaused" name="pause-fill"></bi>
    <bi *ngIf="speakingPaused" name="play-fill"></bi>
  </app-controls-item>
  <app-controls-item
    (click)="changeLine('prev')"
    [class.disabled]="session?.isAtStart() || endSessionLoading"
    ngbTooltip="Zurück"
  >
    <bi name="arrow-left"></bi>
  </app-controls-item>
  <app-controls-item
    (click)="changeLine('next')"
    [class.disabled]="endSessionLoading"
    ngbTooltip="Weiter"
  >
    <bi name="arrow-right"></bi>
  </app-controls-item>
  <app-controls-item
    (click)="openModal(stopSessionModal)"
    [class.disabled]="endSessionLoading"
    ngbTooltip="Beenden"
  >
    <bi name="x-lg"></bi>
  </app-controls-item>
  <app-controls-item
    ><!--[class.disabled]="true || endSessionLoading"-->
    <div dropdownClass="dropdown-menu-lg" ngbDropdown>
      <bi name="three-dots" ngbDropdownToggle></bi>
      <div class="blur-text-dropdown-menu" ngbDropdownMenu>
        <div class="form-check form-switch">
          <input
            (click)="blur()"
            class="form-check-input"
            id="flexSwitchCheckDefault"
            role="switch"
            type="checkbox"
          />
          <label
            class="form-check-label text-nowrap"
            for="flexSwitchCheckDefault"
            >Text ausblenden</label
          >
        </div>
        <label class="form-check-label text-nowrap" for="flexSwitchCheckDefault"
          >Textsprache</label
        >
        <select class="form-control" [(ngModel)]="lang" (click)="updateLang()">
          <option value="de">Deutsch</option>
          <option value="en-US">Englisch</option>
          <option value="fr-FR">Französisch</option>
          <option value="it-IT">Italienisch</option>
          <option value="es-ES">Spanisch</option>
        </select>
      </div>
    </div>
  </app-controls-item>
</app-controls>
<ng-template #stopSessionModal let-modal>
  <app-modal
    (confirm)="pauseSession(modal)"
    (decline)="modal.dismiss()"
    confirmBtnLabel="Beenden"
    title="Übungseinheit beenden"
  >
    <!-- <app-alert
       *ngIf="deleteError"
       [closeable]="false"
       class="mb-1"
       type="danger"
       >{{ this.deleteError }}</app-alert
     >-->
    Sicher, dass du diese
    <strong class="text-primary"> Übungseinheit vorläufig beenden</strong>
    möchtest?<br />
  </app-modal>
</ng-template>
