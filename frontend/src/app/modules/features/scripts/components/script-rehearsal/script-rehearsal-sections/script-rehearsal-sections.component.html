<app-page-layout [loading]="getLoading" [showSidebar]="true" theme="dark">
  <div class="d-flex flex-column flex-grow-1" role="sidebar">
    <h2 class="mb-0 d-flex">
      <div class="role-name text-truncate">
        {{ (scriptRehearsalService.$selectedRole | async)?.name }}
      </div>
      <span class="suffix"> üben</span>
    </h2>
    <app-back-button
      (click)="backToOverview()"
      label="Zurück zur Übersicht"
    ></app-back-button>
    <ng-container *ngIf="curStep === steps.selectSection">
      <h3 class="mb-3">Wähle einen Lernabschnitt:</h3>
      <p class="infotext">Lerneinheiten können in der mobilen Ansicht leider nicht erstellt werden</p>
      <app-rehearsal-section
        (click)="changeStep(steps.createSection)"
        [isCreate]="true"
        class="create"
      ></app-rehearsal-section>
      <app-rehearsal-section
        *ngFor="let section of sections"
        [section]="section"
      ></app-rehearsal-section>
    </ng-container>
    <app-rehearsal-section-create
      (cancel)="changeStep(steps.selectSection)"
      *ngIf="curStep === steps.createSection"
    ></app-rehearsal-section-create>
  </div>
  <app-script-viewer></app-script-viewer>
</app-page-layout>
